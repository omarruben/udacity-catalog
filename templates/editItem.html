{% extends "base.html" %}

{% block title %} My catalog {% endblock %}

{% block content %}
<div class="row">
	<div class="col-md-12">
		<form id="edit_item" method="post">
		  <div class="form-group">
		    <label for="itemName">Name:</label>
		    <input type="text" class="form-control" name="itemName"  id="itemName" value="{{item.name}}">
		  </div>

		  <div class="form-group">
		    <label for="itemDescription">Description:</label>
		    <input type="text" class="form-control" name="itemDescription"  id="itemDescription" value="{{item.description}}">
		  </div>

		  <div class="form-group">
		    <label for="category">Select Category:</label>
		    <select class="form-control" id="category" name="category">
			    {% for cat in categories %}
			      <option value="{{cat.id}}" {% if cat.id == item.category_id %} selected {% endif %} >
			      	{{cat.name}}
			      </option>
			    {% endfor %}
		    </select>
		  </div>		 

		  <button type="submit" class="btn btn-primary">Update</button>
		  <a href="/" class="btn btn-secondary" role="button">Cancel</a>
		 </form>
	</div>
</div>
<!-- verify form has item all required fields -->
	<script>
		$("#edit_item").submit(function(event){
			var name = $("#itemName").val();
			if (name == "") { 
				alert("Name is required!!!");
				event.preventDefault();
			} else {
				return;
			}
		})

	</script>
{% endblock %}	